<%- include("../partials/header.html") %>
<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.2/css/all.css">
<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.2/css/sharp-thin.css">
<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.2/css/sharp-solid.css">
<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.2/css/sharp-regular.css">
<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.2/css/sharp-light.css"> 
<style>
    @keyframes shakeRotation {
        0% { transform: rotate(0deg); }
        25% { transform: rotate(-5deg); }
        50% { transform: rotate(5deg); }
        75% { transform: rotate(-5deg); }
        100% { transform: rotate(0deg); }
    }
    .shake-animation {
        animation: shakeRotation 0.5s;
    }
</style>
<div class="card">
    <div class="card-body text-center py-5">
        <div class="row justify-content-center">
            <div class="col-7 col-md-5"><img class="img-fluid" src="../../assets/img/icons/spot-illustrations/41.png" alt="" style="width:58%;"></div>
        </div>
        <h3 class="mt-3 fw-normal fs-7 mt-md-4 fs-md-6">Invite a friend, and get high commissions!</h3>
        <p class="lead mb-5">Get 15% from your partner's advertising spend and 25% from their earnings!<br class="d-none d-md-block">Everyone you invite will receive a welcome email.</p>
        <div class="row justify-content-center">
            <div class="col-md-7">
                <form class="row gx-2">
                    <div class="col-sm mb-2 mb-sm-0">
                        <input id="linkInput" class="form-control" type="text" value="<%= affiliateLink %>" readonly aria-label="Recipient's username">
                    </div>
                    <div class="col-sm-auto">
                        <button id="copyButton" class="btn btn-primary d-block w-100" type="button">Copy Link</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="card-footer bg-body-tertiary text-center pt-4">
        <div class="row justify-content-center">
            <div class="col-11 col-sm-10">
                <h4 class="fw-normal mb-0 fs-8 fs-md-7">More ways to <br class="d-sm-none"> invite your friends</h4>
                <div class="row gx-2 my-4">
                    <div class="col-lg-4 mb-2">
                        <button id="shareEmail" class="btn btn-falcon-default d-block w-100 mb-2 mb-xl-0">
                            <span class="fa-solid fa-envelope"></span> Share on Gmail
                        </button>
                    </div>
                    <div class="col-lg-4">
                        <button id="shareFacebook" class="btn btn-falcon-default d-block w-100 mb-2 mb-xl-0"><span class="fab fa-facebook-square"></span> Share on Facebook</button>
                    </div>
                    <div class="col-lg-4">
                        <button id="shareTwitter" class="btn btn-falcon-default d-block w-100 mb-2 mb-xl-0"><span class="fab fa-twitter-square"></span> Share on Twitter</button>
                    </div>
                    <div class="col-lg-4">
                        <button id="shareWhatsApp" class="btn btn-falcon-default d-block w-100 mb-2 mb-xl-0"><span class="fab fa-whatsapp-square"></span> Share on WhatsApp</button>
                    </div>
                    <div class="col-lg-4">
                        <button id="shareInstagram" class="btn btn-falcon-default d-block w-100 mb-2 mb-xl-0"><span class="fab fa-instagram-square"></span> Share on Instagram</button>
                    </div>
                    <div class="col-lg-4">
                        <button id="shareTelegram" class="btn btn-falcon-default d-block w-100 mb-2 mb-xl-0"><span class="fab fa-telegram"></span> Share on Telegram</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function copyToClipboard() {
        var copyText = document.getElementById("linkInput");
        copyText.select();
        copyText.setSelectionRange(0, 99999);
        document.execCommand("copy");

        var copyButton = document.getElementById("copyButton");
        copyButton.classList.remove("btn-primary");
        copyButton.classList.add("btn-success", "shake-animation");
        copyButton.textContent = "Link Copied";
        setTimeout(function() {
            copyButton.classList.remove("shake-animation");
        }, 500);
    }

    document.getElementById("copyButton").addEventListener("click", copyToClipboard);

    document.getElementById("linkInput").addEventListener("dblclick", copyToClipboard);

    const link = document.getElementById('linkInput').value;

    document.getElementById('shareEmail').addEventListener('click', function() {
        window.open(`mailto:destinatario@exemplo.com?subject=Assunto%20do%20Email&body=${encodeURIComponent(link)}`, '_blank');
    });

    document.getElementById('shareFacebook').addEventListener('click', function() {
        window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(link)}`, '_blank');
        this.classList.add('btn-success');
    });

    document.getElementById('shareTwitter').addEventListener('click', function() {
        window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(link)}`, '_blank');
        this.classList.add('btn-success');
    });

    document.getElementById('shareWhatsApp').addEventListener('click', function() {
        window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(link)}`, '_blank');
        this.classList.add('btn-success');
    });

    document.getElementById('shareInstagram').addEventListener('click', function() {
        alert('Instagram does not support direct link sharing through URL schemes. Please share the link manually.');
    });

    document.getElementById('shareTelegram').addEventListener('click', function() {
        window.open(`https://t.me/share/url?url=${encodeURIComponent(link)}`, '_blank');
        this.classList.add('btn-success');
    });
</script>

<%- include("../partials/footer.html") %>
